webpackJsonp([4],{130:function(t,n,e){function o(t){e(146)}var m=e(1)(e(135),e(151),o,null,null);t.exports=m.exports},135:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(5),m=e.n(o),s=e(11),i=e(2),A=e(12),c=e(35),a=e.i(c.a)("transform");n.default={data:function(){return{showShortComments:!1,noLongCommentsHeight:0,longComments:[],shortComments:[]}},props:{newsInfo:{type:Object,default:{}}},computed:m()({},e.i(i.a)(["storiesId"])),watch:{storiesId:function(){this.longComments=[],this.shortComments=[],this.init()}},created:function(){this.init()},activated:function(){var t=this;this.$emit("show"),this.showShortComments=!1,this.$nextTick(function(){t.$refs.icon.style[a]="rotateZ(0)",t.noLongCommentsHeight=window.innerHeight-t.$refs.header.offsetHeight-92+"px"})},deactivated:function(){this.$emit("hide")},methods:{init:function(){this.longComments.length&&this.longComments.length||(this._getLongComments(),this._getShortComments())},hide:function(){this.$router.back(),this.$emit("hide")},time:function(t){return""+e.i(A.a)(new Date(1e3*t),"MM-dd hh:mm")},triggerShortComments:function(){this.showShortComments=!this.showShortComments,!0===this.showShortComments?this.$refs.icon.style[a]="rotateZ(180deg)":this.$refs.icon.style[a]="rotateZ(0)"},like:function(t){t.highlight=!t.highlight,!0===t.highlight?t.likes++:t.likes--},_handleComments:function(t){return t.forEach(function(t){t.highlight=!1}),t},_getLongComments:function(){var t=this;s.a.getLongComments(this.storiesId).then(function(n){t.longComments=t._handleComments(n.data.comments)}).catch(function(n){console.log(n),t._getLongComments()})},_getShortComments:function(){var t=this;s.a.getShortComments(this.storiesId).then(function(n){t.shortComments=t._handleComments(n.data.comments)}).catch(function(n){console.log(n),t._getShortComments()})}}}},140:function(t,n,e){n=t.exports=e(128)(!0),n.push([t.i,'.slide-enter-active,.slide-leave-active{-webkit-transition:all .5s;transition:all .5s;position:fixed!important;height:50000px!important}.slide-enter,.slide-leave-to{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}.comments{position:absolute;width:100%;height:100%;z-index:300;top:0;left:0;background:#fff}.comments .header .header-text{-webkit-box-flex:6;-ms-flex:6;flex:6;padding-left:.267rem}.comments .header .header-text .text{font-size:18px;line-height:1.333rem;color:#fff}.comments .comments-main{position:relative;top:1.333rem;background:#fff}.comments .comments-main .title{padding:15px 20px;position:relative;font-size:16px}.comments .comments-main .title:before{display:block;position:absolute;left:0;top:0;width:100%;border-top:1px solid #c3c3c3;content:""}.comments .comments-main .title:after{display:block;position:absolute;left:0;bottom:0;width:100%;border-bottom:1px solid #c3c3c3;content:""}.comments .comments-main .title .icon-font{-webkit-transition:all .3s;transition:all .3s;float:right;color:#b0b0b0}.comments .comments-main ul{padding:0}.comments .comments-main ul .comments-item{padding:15px 20px;font-size:16px;position:relative}.comments .comments-main ul .comments-item:after{display:block;position:absolute;left:0;bottom:0;width:100%;border-bottom:1px solid #c3c3c3;content:""}.comments .comments-main ul .comments-item:last-child:after{border:none}.comments .comments-main ul .comments-item .avatar-box{float:left;margin-right:10px}.comments .comments-main ul .comments-item .avatar-box .avatar{border-radius:50%}.comments .comments-main ul .comments-item .comment-content{overflow:hidden}.comments .comments-main ul .comments-item .comment-content .comment-header{display:-webkit-box;display:-ms-flexbox;display:flex}.comments .comments-main ul .comments-item .comment-content .comment-header .author{-webkit-box-flex:1;-ms-flex:1;flex:1;line-height:1.5;font-weight:700}.comments .comments-main ul .comments-item .comment-content .comment-header .likes{color:#b0b0b0;font-size:12px;line-height:1.5}.comments .comments-main ul .comments-item .comment-content .comment-header .likes .highlight{color:#00a2ea}.comments .comments-main ul .comments-item .comment-content .comments-text{margin:10px 0;line-height:1.5}.comments .comments-main ul .comments-item .comment-content .comments-text .reply{font-size:16px;font-weight:700;line-height:1.2}.comments .comments-main ul .comments-item .comment-content .comments-text .reply .reply-text{font-size:14px;font-weight:300;color:#8c8c8c}.comments .comments-main ul .comments-item .comment-content .comment-time{color:#b0b0b0;font-size:12px}.comments .comments-main .no-long-comments{position:relative}.comments .comments-main .no-long-comments .no-icon{position:absolute;top:50%;left:50%;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0);color:#b0b0b0;text-align:center}.comments .comments-main .no-long-comments .no-icon .icon-font{font-size:100px}.comments .comments-main .no-long-comments .no-icon .text{margin-top:20px;font-size:16px}',"",{version:3,sources:["C:/Users/jie/Desktop/zhihu-daily/src/base/comments/comments.vue"],names:[],mappings:"AACA,wCAEE,2BAA6B,AAC7B,mBAAqB,AACrB,yBAA2B,AAC3B,wBAA2B,CAC5B,AACD,6BAEE,wCAA2C,AACnC,+BAAmC,CAC5C,AACD,UACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,YAAa,AACb,MAAO,AACP,OAAQ,AACR,eAAiB,CAClB,AACD,+BACE,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,oBAAuB,CACxB,AACD,qCACE,eAAgB,AAChB,qBAAsB,AACtB,UAAY,CACb,AACD,yBACE,kBAAmB,AACnB,aAAc,AACd,eAAiB,CAClB,AACD,gCACE,kBAAmB,AACnB,kBAAmB,AACnB,cAAgB,CACjB,AACD,uCACE,cAAe,AACf,kBAAmB,AACnB,OAAQ,AACR,MAAO,AACP,WAAY,AACZ,6BAA8B,AAC9B,UAAY,CACb,AACD,sCACE,cAAe,AACf,kBAAmB,AACnB,OAAQ,AACR,SAAU,AACV,WAAY,AACZ,gCAAiC,AACjC,UAAY,CACb,AACD,2CACE,2BAA6B,AAC7B,mBAAqB,AACrB,YAAa,AACb,aAAe,CAChB,AACD,4BACE,SAAW,CACZ,AACD,2CACE,kBAAmB,AACnB,eAAgB,AAChB,iBAAmB,CACpB,AACD,iDACE,cAAe,AACf,kBAAmB,AACnB,OAAQ,AACR,SAAU,AACV,WAAY,AACZ,gCAAiC,AACjC,UAAY,CACb,AACD,4DACE,WAAa,CACd,AACD,uDACE,WAAY,AACZ,iBAAmB,CACpB,AACD,+DACE,iBAAmB,CACpB,AACD,4DACE,eAAiB,CAClB,AACD,4EACE,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CACf,AACD,oFACE,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,gBAAiB,AACjB,eAAiB,CAClB,AACD,mFACE,cAAe,AACf,eAAgB,AAChB,eAAiB,CAClB,AACD,8FACE,aAAe,CAChB,AACD,2EACE,cAAe,AACf,eAAiB,CAClB,AACD,kFACE,eAAgB,AAChB,gBAAiB,AACjB,eAAiB,CAClB,AACD,8FACE,eAAgB,AAChB,gBAAiB,AACjB,aAAe,CAChB,AACD,0EACE,cAAe,AACf,cAAgB,CACjB,AACD,2CACE,iBAAmB,CACpB,AACD,oDACE,kBAAmB,AACnB,QAAS,AACT,SAAU,AACV,2CAA8C,AACtC,mCAAsC,AAC9C,cAAe,AACf,iBAAmB,CACpB,AACD,+DACE,eAAiB,CAClB,AACD,0DACE,gBAAiB,AACjB,cAAgB,CACjB",file:"comments.vue",sourcesContent:['\n.slide-enter-active,\n.slide-leave-active {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n  position: fixed !important;\n  height: 50000px !important;\n}\n.slide-enter,\n.slide-leave-to {\n  -webkit-transform: translate3d(100%, 0, 0);\n          transform: translate3d(100%, 0, 0);\n}\n.comments {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: 300;\n  top: 0;\n  left: 0;\n  background: #fff;\n}\n.comments .header .header-text {\n  -webkit-box-flex: 6;\n      -ms-flex: 6;\n          flex: 6;\n  padding-left: 0.267rem;\n}\n.comments .header .header-text .text {\n  font-size: 18px;\n  line-height: 1.333rem;\n  color: #fff;\n}\n.comments .comments-main {\n  position: relative;\n  top: 1.333rem;\n  background: #fff;\n}\n.comments .comments-main .title {\n  padding: 15px 20px;\n  position: relative;\n  font-size: 16px;\n}\n.comments .comments-main .title:before {\n  display: block;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  border-top: 1px solid #c3c3c3;\n  content: "";\n}\n.comments .comments-main .title:after {\n  display: block;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  border-bottom: 1px solid #c3c3c3;\n  content: "";\n}\n.comments .comments-main .title .icon-font {\n  -webkit-transition: all 0.3s;\n  transition: all 0.3s;\n  float: right;\n  color: #b0b0b0;\n}\n.comments .comments-main ul {\n  padding: 0;\n}\n.comments .comments-main ul .comments-item {\n  padding: 15px 20px;\n  font-size: 16px;\n  position: relative;\n}\n.comments .comments-main ul .comments-item:after {\n  display: block;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  border-bottom: 1px solid #c3c3c3;\n  content: "";\n}\n.comments .comments-main ul .comments-item:last-child:after {\n  border: none;\n}\n.comments .comments-main ul .comments-item .avatar-box {\n  float: left;\n  margin-right: 10px;\n}\n.comments .comments-main ul .comments-item .avatar-box .avatar {\n  border-radius: 50%;\n}\n.comments .comments-main ul .comments-item .comment-content {\n  overflow: hidden;\n}\n.comments .comments-main ul .comments-item .comment-content .comment-header {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.comments .comments-main ul .comments-item .comment-content .comment-header .author {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  line-height: 1.5;\n  font-weight: 700;\n}\n.comments .comments-main ul .comments-item .comment-content .comment-header .likes {\n  color: #b0b0b0;\n  font-size: 12px;\n  line-height: 1.5;\n}\n.comments .comments-main ul .comments-item .comment-content .comment-header .likes .highlight {\n  color: #00a2ea;\n}\n.comments .comments-main ul .comments-item .comment-content .comments-text {\n  margin: 10px 0;\n  line-height: 1.5;\n}\n.comments .comments-main ul .comments-item .comment-content .comments-text .reply {\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 1.2;\n}\n.comments .comments-main ul .comments-item .comment-content .comments-text .reply .reply-text {\n  font-size: 14px;\n  font-weight: 300;\n  color: #8c8c8c;\n}\n.comments .comments-main ul .comments-item .comment-content .comment-time {\n  color: #b0b0b0;\n  font-size: 12px;\n}\n.comments .comments-main .no-long-comments {\n  position: relative;\n}\n.comments .comments-main .no-long-comments .no-icon {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate3d(-50%, -50%, 0);\n          transform: translate3d(-50%, -50%, 0);\n  color: #b0b0b0;\n  text-align: center;\n}\n.comments .comments-main .no-long-comments .no-icon .icon-font {\n  font-size: 100px;\n}\n.comments .comments-main .no-long-comments .no-icon .text {\n  margin-top: 20px;\n  font-size: 16px;\n}'],sourceRoot:""}])},146:function(t,n,e){var o=e(140);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e(129)("05a3d449",o,!0)},151:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("transition",{attrs:{name:"slide"}},[e("div",{staticClass:"comments"},[e("div",{ref:"header",staticClass:"header"},[e("div",{staticClass:"header-icon back",on:{click:t.hide}},[e("i",{staticClass:"icon-font"},[t._v("")])]),t._v(" "),e("div",{staticClass:"header-text"},[e("p",{staticClass:"text"},[t._v(t._s(t.newsInfo.comments)+" 条点评")])]),t._v(" "),e("div",{staticClass:"header-icon"},[e("i",{staticClass:"icon-font"},[t._v("")])])]),t._v(" "),e("div",{staticClass:"comments-main"},[e("div",{staticClass:"long-comments"},[e("h2",{staticClass:"title border-1px"},[t._v(t._s(t.newsInfo.long_comments)+" 条长评")]),t._v(" "),e("ul",t._l(t.longComments,function(n){return e("li",{staticClass:"comments-item border-1px"},[e("div",{staticClass:"avatar-box"},[e("img",{staticClass:"avatar",attrs:{src:n.avatar,width:"35",height:"35"}})]),t._v(" "),e("div",{staticClass:"comment-content"},[e("div",{staticClass:"comment-header"},[e("p",{staticClass:"author",domProps:{innerHTML:t._s(n.author)}}),t._v(" "),e("div",{staticClass:"likes",on:{click:function(e){t.like(n)}}},[e("i",{staticClass:"icon-font",class:{highlight:n.highlight}},[t._v("")]),t._v("\n                  "+t._s(n.likes)+"\n                ")])]),t._v(" "),e("div",{staticClass:"comments-text"},[e("p",{domProps:{innerHTML:t._s(n.content)}}),t._v(" "),n.reply_to?e("p",{staticClass:"reply"},[t._v("//"+t._s(n.reply_to.author)+": "),e("span",{staticClass:"reply-text",domProps:{innerHTML:t._s(n.reply_to.content)}})]):t._e()]),t._v(" "),e("div",{staticClass:"comment-time"},[t._v(t._s(t.time(n.time)))])])])})),t._v(" "),t.newsInfo.long_comments?t._e():e("div",{staticClass:"no-long-comments",style:{height:t.noLongCommentsHeight}},[e("div",{staticClass:"no-icon"},[e("i",{staticClass:"icon-font"},[t._v("")]),t._v(" "),e("p",{staticClass:"text"},[t._v("深度长评虚位以待")])])])]),t._v(" "),e("div",{staticClass:"short-comments"},[e("h2",{staticClass:"title border-1px",on:{click:t.triggerShortComments}},[t._v(t._s(t.newsInfo.short_comments)+" 条短评\n          "),e("i",{ref:"icon",staticClass:"icon-font"},[t._v("")])]),t._v(" "),e("ul",{directives:[{name:"show",rawName:"v-show",value:t.showShortComments,expression:"showShortComments"}]},t._l(t.shortComments,function(n){return e("li",{staticClass:"comments-item border-1px"},[e("div",{staticClass:"avatar-box"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:n.avatar,expression:"item.avatar"}],staticClass:"avatar",attrs:{width:"35",height:"35"}})]),t._v(" "),e("div",{staticClass:"comment-content"},[e("div",{staticClass:"comment-header"},[e("p",{staticClass:"author",domProps:{innerHTML:t._s(n.author)}}),t._v(" "),e("div",{staticClass:"likes",on:{click:function(e){t.like(n)}}},[e("i",{staticClass:"icon-font",class:{highlight:n.highlight}},[t._v("")]),t._v("\n                  "+t._s(n.likes)+"\n                ")])]),t._v(" "),e("div",{staticClass:"comments-text"},[e("p",{domProps:{innerHTML:t._s(n.content)}}),t._v(" "),n.reply_to?e("p",{staticClass:"reply"},[t._v("//"+t._s(n.reply_to.author)+": "),e("span",{staticClass:"reply-text",domProps:{innerHTML:t._s(n.reply_to.content)}})]):t._e()]),t._v(" "),e("div",{staticClass:"comment-time"},[t._v(t._s(t.time(n.time)))])])])}))])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=4.711e78fb06f779672ca3.js.map