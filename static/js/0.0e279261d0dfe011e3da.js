webpackJsonp([0],{140:function(e,t,o){function i(e){o(147)}var n=o(1)(o(143),o(150),i,null,null);e.exports=n.exports},143:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(3),n=o.n(i),a=o(38),s=o.n(a),r=o(37),A=o.n(r),g=o(13),l=o.n(g),p=o(4),c=o(36),h=o(2);t.default={data:function(){return{showFlag:!1,editorsShow:!1,nomore:!1,topics:{},stories:[]}},computed:n()({},o.i(h.a)(["themeId","scrollTop"])),created:function(){var e=this;this.throttleScroll=o.i(c.a)(function(){if(e.stories.length){if(window.innerHeight+(document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop)>=(document.documentElement.scrollHeight||document.body.scrollHeight)-200){if(e.showFlag)return;e.showFlag=!0,e._getTopicsBeforeById()}}},60,120),this._getTopicsById()},watch:{themeId:function(e){e&&(this.topics={},this.stories=[],this.showFlag=!1,this.nomore=!1,this.editorsShow=!1,this._getTopicsById())}},activated:function(){var e=this;this._listenerScroll(),this.$nextTick(function(){document.body.scrollTop=e.scrollTop})},deactivated:function(){this._stopListenerScroll(),this.setScrollTop(document.body.scrollTop)},methods:n()({select:function(){this.setSidebarShow(!0)},showEditors:function(){var e=this;this.$router.push("/editors"),setTimeout(function(){e.editorsShow=!0},500)},hideEditors:function(){this.editorsShow=!1}},o.i(h.b)({setSidebarShow:"SET_SIDEBAR_SHOW",setScrollTop:"SET_SCROLL_TOP"}),{_getTopicsById:function(){var e=this;if(!this.themeId)return void this.$router.push("/");p.a.getTopicsById(this.themeId).then(function(t){e.topics=t.data,e.stories.push(t.data.stories)}).catch(function(t){console.log(t),e._getTopicsById()})},_getTopicsBeforeById:function(){var e=this;if(this.stories.length){var t=this.stories[this.stories.length-1],o=t[t.length-1].id;p.a.getTopicsBeforeById(this.themeId,o).then(function(t){e.stories.push(t.data.stories),e.showFlag=!1,t.data.stories.length||(e.showFlag=!1,e.nomore=!0,e._stopListenerScroll())}).catch(function(t){console.log(t),e._getTopicsBeforeById()})}},_listenerScroll:function(){window.addEventListener("scroll",this.throttleScroll,!1)},_stopListenerScroll:function(){window.removeEventListener("scroll",this.throttleScroll)}}),components:{TopMenu:s.a,StoriesList:A.a,Loading:l.a}}},144:function(e,t,o){t=e.exports=o(136)(!0),t.push([e.i,'.faded-enter-active,.faded-leave-active{-webkit-transition:all .6s;transition:all .6s;opacity:1}.faded-leave{opacity:1}.themepage .themepage-main{position:relative;top:1.333rem;background:#f2f2f2}.themepage .themepage-main .bg-box{position:relative;overflow:hidden}.themepage .themepage-main .bg-box:after{content:"";display:block;padding-top:60%}.themepage .themepage-main .bg-box .bg{width:100%;height:100%;position:absolute;top:0;left:0;background-size:100%;background-position:50%;background-repeat:no-repeat}.themepage .themepage-main .bg-box .bg .bg-mask{width:100%;height:100%;position:absolute;top:0;left:0;background:gradient(linear,left top,left bottom,color-stop(25%,transparent),color-stop(100%,rgba(0,0,0,.6)));background:-webkit-gradient(linear,left top,left bottom,color-stop(25%,transparent),to(rgba(0,0,0,.6)));background:linear-gradient(180deg,transparent 25%,rgba(0,0,0,.6))}.themepage .themepage-main .bg-box .bg .bg-title{position:absolute;left:0;bottom:15px;font-weight:500;padding:0 20px;margin:0;font-size:20px;line-height:1.2;color:#fff}.themepage .themepage-main .editors-box{position:relative;top:10px;padding:0 10px;background:#f2f2f2}.themepage .themepage-main .editors-box .text{display:inline-block;margin-right:15px;color:#2c3e50;font-size:16px;line-height:.8rem}.themepage .themepage-main .editors-box .editor-avatar{width:.8rem;height:.8rem;margin-right:12px;border-radius:50%;vertical-align:bottom}.themepage .themepage-main .loading-wrapper{background:#f2f2f2}.themepage .themepage-main .nomore{padding:10px 0;color:#2c3e50;font-size:16px;text-align:center;background:#f2f2f2}',"",{version:3,sources:["C:/Users/jie/Desktop/zhihu-daily/src/components/themepage/themepage.vue"],names:[],mappings:"AACA,wCAEE,2BAA6B,AAC7B,mBAAqB,AACrB,SAAW,CACZ,AACD,aACE,SAAW,CACZ,AACD,2BACE,kBAAmB,AACnB,aAAc,AACd,kBAAoB,CACrB,AACD,mCACE,kBAAmB,AACnB,eAAiB,CAClB,AACD,yCACE,WAAY,AACZ,cAAe,AACf,eAAiB,CAClB,AACD,uCACE,WAAY,AACZ,YAAa,AACb,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,qBAAsB,AACtB,wBAAyB,AACzB,2BAA6B,CAC9B,AACD,gDACE,WAAY,AACZ,YAAa,AACb,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,6GAAuH,AACvH,wGAAiH,AACjH,iEAAgF,CACjF,AACD,iDACE,kBAAmB,AACnB,OAAQ,AACR,YAAa,AACb,gBAAiB,AACjB,eAAgB,AAChB,SAAU,AACV,eAAgB,AAChB,gBAAiB,AACjB,UAAY,CACb,AACD,wCACE,kBAAmB,AACnB,SAAU,AACV,eAAgB,AAChB,kBAAoB,CACrB,AACD,8CACE,qBAAsB,AACtB,kBAAmB,AACnB,cAAe,AACf,eAAgB,AAChB,iBAAoB,CACrB,AACD,uDACE,YAAc,AACd,aAAe,AACf,kBAAmB,AACnB,kBAAmB,AACnB,qBAAuB,CACxB,AACD,4CACE,kBAAoB,CACrB,AACD,mCACE,eAAgB,AAChB,cAAe,AACf,eAAgB,AAChB,kBAAmB,AACnB,kBAAoB,CACrB",file:"themepage.vue",sourcesContent:["\n.faded-enter-active,\n.faded-leave-active {\n  -webkit-transition: all 0.6s;\n  transition: all 0.6s;\n  opacity: 1;\n}\n.faded-leave {\n  opacity: 1;\n}\n.themepage .themepage-main {\n  position: relative;\n  top: 1.333rem;\n  background: #f2f2f2;\n}\n.themepage .themepage-main .bg-box {\n  position: relative;\n  overflow: hidden;\n}\n.themepage .themepage-main .bg-box:after {\n  content: '';\n  display: block;\n  padding-top: 60%;\n}\n.themepage .themepage-main .bg-box .bg {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-size: 100%;\n  background-position: 50%;\n  background-repeat: no-repeat;\n}\n.themepage .themepage-main .bg-box .bg .bg-mask {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: gradient(linear, left top, left bottom, color-stop(25%, rgba(0,0,0,0)), color-stop(100%, rgba(0,0,0,0.6)));\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(25%, rgba(0,0,0,0)), to(rgba(0,0,0,0.6)));\n  background: linear-gradient(to bottom, rgba(0,0,0,0) 25%, rgba(0,0,0,0.6) 100%);\n}\n.themepage .themepage-main .bg-box .bg .bg-title {\n  position: absolute;\n  left: 0;\n  bottom: 15px;\n  font-weight: 500;\n  padding: 0 20px;\n  margin: 0;\n  font-size: 20px;\n  line-height: 1.2;\n  color: #fff;\n}\n.themepage .themepage-main .editors-box {\n  position: relative;\n  top: 10px;\n  padding: 0 10px;\n  background: #f2f2f2;\n}\n.themepage .themepage-main .editors-box .text {\n  display: inline-block;\n  margin-right: 15px;\n  color: #2c3e50;\n  font-size: 16px;\n  line-height: 0.8rem;\n}\n.themepage .themepage-main .editors-box .editor-avatar {\n  width: 0.8rem;\n  height: 0.8rem;\n  margin-right: 12px;\n  border-radius: 50%;\n  vertical-align: bottom;\n}\n.themepage .themepage-main .loading-wrapper {\n  background: #f2f2f2;\n}\n.themepage .themepage-main .nomore {\n  padding: 10px 0;\n  color: #2c3e50;\n  font-size: 16px;\n  text-align: center;\n  background: #f2f2f2;\n}"],sourceRoot:""}])},147:function(e,t,o){var i=o(144);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);o(137)("547814d4",i,!0)},150:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"faded"}},[o("div",{staticClass:"themepage"},[o("top-menu",{attrs:{title:e.topics.name,showFlag:!1},on:{select:e.select}}),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:!e.editorsShow,expression:"!editorsShow"}],staticClass:"themepage-main"},[o("div",{staticClass:"bg-box"},[o("div",{staticClass:"bg",style:{backgroundImage:"url("+e.topics.background+")"}},[o("div",{staticClass:"bg-mask"}),e._v(" "),o("h1",{staticClass:"bg-title"},[e._v(e._s(e.topics.description))])])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.topics.editors,expression:"topics.editors"}],staticClass:"editors-box",on:{click:e.showEditors}},[o("span",{staticClass:"text"},[e._v("主编")]),e._v(" "),e._l(e.topics.editors,function(e){return o("img",{staticClass:"editor-avatar",attrs:{src:e.avatar}})})],2),e._v(" "),o("stories-list",{attrs:{stories:e.stories,showTitle:!1}}),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:!e.nomore&&e.showFlag,expression:"!nomore && showFlag"}],staticClass:"loading-wrapper"},[o("loading")],1),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:e.nomore,expression:"nomore"}],staticClass:"nomore"},[e._v("没有更多了...  ╮(๑•́ ₃•̀๑)╭")])],1),e._v(" "),o("keep-alive",[o("router-view",{attrs:{editors:e.topics.editors},on:{back:e.hideEditors}})],1)],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=0.0e279261d0dfe011e3da.js.map